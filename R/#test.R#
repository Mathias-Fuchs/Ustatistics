d  <- c(2, 2, 4, 6, 2, 6, 4, 5, 4, 6)
U <- mean(d)

                                        # best estimator for theta squared
                                        # = 16.53333
ts  <- mean(apply(combn(10, 2), 2, function(y) d[y[1]] * d[y[2]]))

                                        # estimator for variance of the mean
varmean  <- U * U - ts

                                        # this is the same: the estimated variance of the U-statistic
var(d) / 10

                                        # correspondingly, the confidence interval for the true mean:
                                        # the t-quantile at 1-0.05/2
q  <- qt(df=length(d) -1 , p=1- 0.05/2)

confIntLower  <-  U - q * sqrt(varmean)tt
confIntUpper  <-  U + q * sqrt(varmean)

                                        # this confidence interval coincides with the classical one
print(t.test(d))
